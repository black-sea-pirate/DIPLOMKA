<!--  -------------------------------------------------------------------------
      src/components/Charts/RadarChart.vue

      Обёртка над vue-chartjs для отрисовки *радиальной диаграммы* (Radar).
      Всё, что нужно графику извне:
        • props.labels — массив подписей осей
        • props.data   — массив числовых значений такой же длины
      Компонент «тонкий» — вся логика строится внутри Chart.js.
      --------------------------------------------------------------------- -->

<script setup>
/* ----------------------------------------------------------------------------
 * 1) Импорт компонента <Radar> из пакета **vue-chartjs** (node_modules)
 * 2) Импортируем МЕСТНЫЙ файл
 *      src/components/Charts/register.js
 *    — именно там (НЕ в этом файле) происходит регистрация скейлов и
 *    элементов Chart.js, чтобы все графики могли корректно отрисоваться.
 * ------------------------------------------------------------------------- */
import { Radar } from "vue-chartjs";
import "../../components/Charts/register";

/* ----------------------------------------------------------------------------
 * Описание входных параметров (props) этого компонента.
 * ------------------------------------------------------------------------- */
defineProps({
  labels: Array, // ['Topic-1', 'Topic-2', …]
  data: Array, // [65, 80, …]  той же длины, что labels
}); // Для простоты типы — Array (без проверки длины)
</script>

<template>
  <!-- ------------------------------------------------------------------
       Компонент <Radar> (из vue-chartjs) ожидает два объекта-параметра:
       1) :data    — «сырые» данные Chart.js
       2) :options — настройки графика
       ------------------------------------------------------------------ -->
  <Radar
    :data="{
      labels /* подписи осей */,
      datasets: [
        {
          label: 'Mastery' /* название серии */,
          data /* сами значения */,
          fill: true /* закрасить область */,
          borderWidth: 1,
        },
      ],
    }"
    :options="{
      responsive: true /* растягиваться под контейнер */,
      maintainAspectRatio: false /* не держать фикс. aspect-ratio */,
      scales: { r: { beginAtZero: true } } /* радиальная ось от 0 */,
    }"
  />
</template>

<style scoped>
/* :deep(canvas) — пробиваем scoped-границу, чтобы ограничить макс. высоту
   непосредственно у <canvas>.  Таким образом карточка графика не
   «вытянет» соседние элементы по высоте. */
:deep(canvas) {
  max-height: 320px;
}
</style>
